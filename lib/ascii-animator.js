// Generated by CoffeeScript 1.3.2
(function() {
  var AsciiAnimator;

  AsciiAnimator = (function() {

    function AsciiAnimator(element, frames, wait, direction, reverse) {
      this.element = element;
      this.frames = frames;
      this.wait = wait;
      this.direction = direction;
      this.reverse = reverse;
      this.index = 0;
    }

    AsciiAnimator.prototype.run = function() {
      var self;
      this.stop();
      this.element.innerHTML = this.frames[this.index].replace(new RegExp(' ', 'g'), '&nbsp;');
      this.setNextIndex();
      self = this;
      return this.timer = setTimeout((function() {
        return self.run();
      }), this.wait);
    };

    AsciiAnimator.prototype.stop = function() {
      return clearTimeout(this.timer);
    };

    AsciiAnimator.prototype.setNextIndex = function() {
      if (this.direction === 'right') {
        if (this.index === this.frames.length - 1) {
          if (this.reverse) {
            return this.direction = 'left';
          } else {
            return this.index = 0;
          }
        } else {
          return this.index++;
        }
      } else if (this.direction === 'left') {
        if (this.index === 0) {
          if (this.reverse) {
            return this.direction = 'right';
          } else {
            return this.index = this.frames.length - 1;
          }
        } else {
          return this.index--;
        }
      }
    };

    return AsciiAnimator;

  })();

  module.exports = AsciiAnimator;

}).call(this);
